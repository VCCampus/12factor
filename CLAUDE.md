# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Development Commands

### Core Development
- `cd vue && npm run dev` - Start development server at http://localhost:5173
- `cd vue && npm run build` - Build production bundle to /dist
- `./scripts/build.sh` - Full TOMLâ†’JSONâ†’Vue build pipeline
- `cd vue && npm run lint` - Run ESLint for code quality checks
- `cd vue && npm run type-check` - TypeScript compilation check

### TypeScript and Linting
The project uses TypeScript with strict mode enabled. Run `npm run lint` after making changes to ensure code quality.

### Environment Variables

Create a `.env.local` file in the project root with the following variables:


## Project State & Directory Structure


### Main Dependencies

#### Vue Project (Primary)
- **Framework**: Vue 3.4.0, Vue Router 4.2.5
- **Build Tool**: Vite 5.0.10
- **State Management**: Pinia 2.1.7
- **Styling**: Tailwind CSS 3.4.0, Neobrutalism design system
- **TypeScript**: 5.3.0 with strict mode
- **Testing**: Playwright 1.55.0 with E2E automation
- **PDF Export**: jsPDF 3.0.2
- **Build Output**: /dist directory (via Vite build)


### Project Directory Structure
```
/opt/src/12factor/
â”œâ”€â”€ vue/                   # PRIMARY DEVELOPMENT - CSS Digital Entrepreneurship
â”‚   â”œâ”€â”€ src/              # Vue source code
â”‚   â”‚   â”œâ”€â”€ components/   # Vue components
â”‚   â”‚   â”œâ”€â”€ router/       # Vue Router configuration
â”‚   â”‚   â”œâ”€â”€ stores/       # Pinia state stores
â”‚   â”‚   â”œâ”€â”€ views/        # Page components
â”‚   â”‚   â””â”€â”€ utils/        # Utility functions
â”‚   â”œâ”€â”€ public/           # Static assets and JSON data
â”‚   â”‚   â””â”€â”€ w3sc8_*.json  # Generated JSON from TOML
â”‚   â”œâ”€â”€ tests/            # Playwright e2e tests
â”‚   â””â”€â”€ package.json      # Vue project config
â”œâ”€â”€ dist/                  # Production build output (from Vue)
â”œâ”€â”€ docs/                  # Documentation and planning
â”‚   â”œâ”€â”€ plans/            # Task analysis and planning
â”‚   â”‚   â””â”€â”€ web3scv8_v4.toml # Main TOML configuration
â”‚   â”œâ”€â”€ reports/          # Research reports and deliverables
â”‚   â””â”€â”€ research/         # External reference materials
â”œâ”€â”€ scripts/              # Build and utility scripts (cleaned)
â”‚   â”œâ”€â”€ build.sh          # Main build script
â”‚   â”œâ”€â”€ toml-to-json.js   # TOML to JSON converter
â”‚   â”œâ”€â”€ validate-config.js # TOML validator
â”‚   â””â”€â”€ generate-changelog.js # Change tracker
â”œâ”€â”€ logs/                 # Build and test logs

```

## Development Guidelines & Rules

### Project Architecture Decision (2025-08-28)

#### Core Decisions
1. **All new features belong to Vue project** - The Vue application at `/vue` is the primary development platform
2. **Projects remain isolated** - Vue and Next.js projects maintain complete independence  
3. **Vue is the sole development entry point** - All future development uses `/vue` as the source code base

#### Build Output Strategy
- **Vue project**: Builds to `/dist` directory (primary website output)
- **Next.js project**: Builds to `/public` (legacy, not triggered in normal builds)
- **Build script**: `./scripts/build.sh` handles Vue project build and deployment to `/dist`

### Script and Documentation Output Rules

#### 1. Script Output Location
All utility, testing, data processing, and temporary scripts must be output to:
```
/opt/src/12factor/scripts/
```
- Test scripts
- Build helpers
- Data migration tools
- Temporary automation scripts
- Maintenance utilities

#### 2. Documentation Output Locations
All planning, research, and discussion documents must be organized in:
```
/opt/src/12factor/docs/
â”œâ”€â”€ plans/       # Task analysis and implementation plans
â”œâ”€â”€ reports/     # Research outcomes, deliverables, findings
â””â”€â”€ research/    # External references and gathered materials
```

#### 3. Directory Conventions
- `/vue` - **Primary source code entry point** (all new development happens here)
- `/dist` - **Vue build output** (website deployment, auto-generated by build.sh)
- `/docs` - Documentation (managed)
- `/scripts` - Utility scripts (managed)
- `/logs` - Development and test logs
- `/src` - Legacy Next.js source (read-only, do not modify)
- All other existing project directories are considered legacy/protected

**Important**: If modifications to protected directories are necessary, always:
1. Request explicit permission first
2. Create new files rather than modifying existing ones
3. Document the reason for changes

### Code Modification Guidelines
1. **Prefer editing over creating**: Always edit existing files rather than creating new ones
2. **No unsolicited documentation**: Never create *.md or README files unless explicitly requested
3. **Respect existing patterns**: Follow the codebase's established conventions
4. **Bilingual support required**: All user-facing content must support both English and Chinese
5. **Dark mode compliance**: All UI components must support dark mode with Tailwind's `dark:` prefix

### Git Workflow
- Main branch: `main`
- Keep commits focused and atomic
- Never commit without explicit user request
- Run `npm run lint` before committing code changes

### Testing Requirements
- Run `cd vue && npm run lint` after code changes
- Verify TypeScript compilation with `cd vue && npm run type-check`
- Test with `cd vue && npm run build` to ensure production readiness
- Run E2E tests with Playwright: baseURL configured for http://web3mh.101.so:11181/
- Test Chinese locale support (primary language)
- Verify neobrutalism design system consistency

## Current Project Status (2025-09-06) - Growthç³»åˆ—é¡µé¢å¯¼èˆªç»Ÿä¸€å®Œæˆ

### ğŸ‰ æœ€æ–°é‡å¤§æ›´æ–° (Issue #26 & #27)
**Growthç³»åˆ—é¡µé¢å¯¼èˆªç»Ÿä¸€å·²å®Œæˆ** - åŸºäºIssue #24çš„ç§»åŠ¨ä¼˜å…ˆé‡æ„æˆæœï¼Œè¿›ä¸€æ­¥è§£å†³äº†å¯¼èˆªç¼ºå¤±é—®é¢˜ï¼Œå®ç°äº†å®Œæ•´çš„ç”¨æˆ·ä½“éªŒç»Ÿä¸€ã€‚

#### å¯¼èˆªç»Ÿä¸€æ¶æ„çªç ´
```
AppLayouté›†æˆï¼šAppHeader + Growthç»„ä»¶ + AppFooter
æ··åˆæ¸²æŸ“ç­–ç•¥ï¼šHTMLæ¡¥æ¥å±‚ + uniappè¯­æ³•å†…æ ¸
å…¼å®¹æ€§æ–¹æ¡ˆï¼šUniView/UniTextå…¨å±€ç»„ä»¶ + è¿è¡Œæ—¶åˆ¤æ–­
æ ·å¼ç³»ç»Ÿï¼šgrowth-neo-* å‘½åç©ºé—´ + neobrutalismç»Ÿä¸€
```

#### å®Œæ•´æˆæœæ€»ç»“  
**Issue #24 - ç§»åŠ¨ä¼˜å…ˆé‡æ„**:
- **âœ… Growth*ç»„ä»¶æ¶æ„**: uniappå…¼å®¹çš„ç§»åŠ¨ä¼˜å…ˆç»„ä»¶ç³»ç»Ÿ
- **âœ… æ™ºèƒ½å­¦ä¹ ç³»ç»Ÿ**: é—ªå¡éšæœºç®—æ³• + å¤šæ¨¡å¼æµ‹è¯•
- **âœ… æ•°æ®æŒä¹…åŒ–**: growthStore + localStorageä¼šè¯ç®¡ç†

**Issue #26/#27 - å¯¼èˆªç»Ÿä¸€**:
- **âœ… AppLayoutå®Œæ•´é›†æˆ**: é¡¶éƒ¨å¯¼èˆªæ  + åº•éƒ¨ä¿¡æ¯æ å…¨è¦†ç›–
- **âœ… uniappå…¼å®¹æ¶æ„**: 100%è¯­æ³•ä¿ç•™ + Webç¯å¢ƒè‡ªåŠ¨é™çº§
- **âœ… Neobrutalismé£æ ¼**: growth-neo-*ç»Ÿä¸€è®¾è®¡è¯­è¨€
- **âœ… ç”¨æˆ·ä½“éªŒä¸€è‡´æ€§**: ä¸‰ä¸ªGrowthé¡µé¢å¯¼èˆªä½“éªŒç»Ÿä¸€

### Active Features
- **Home Dashboard**: CSSæ•°åˆ›ç­8æœŸæ ¸å¿ƒçŸ¥è¯†ä½“ç³»å­¦ä¹ å¹³å°
- **ä¸ªäººæˆé•¿12åŸåˆ™ç³»ç»Ÿ**: å®Œæ•´ç§»åŠ¨ä¼˜å…ˆå­¦ä¹ å¹³å°
  - ğŸ“š **GrowthPrinciplesView**: åŸåˆ™æ¦‚è§ˆï¼Œå­¦ä¹ é˜¶æ®µï¼Œè¿›åº¦ç»Ÿè®¡
  - ğŸ¯ **GrowthFlashcardsView**: æ™ºèƒ½é—ªå¡ç»ƒä¹  (12/120éšæœºç®—æ³•)
  - ğŸ† **GrowthQuizView**: å¤šæ¨¡å¼æµ‹è¯•ç³»ç»Ÿ (ç»ƒä¹ /è€ƒè¯•/å¤ä¹ )
- **Mock Interviews**: 4-difficulty interview system (basic/intermediate/advanced/expert)
- **Thermometer View**: Market sentiment navigation component

### Technical Architecture
- **Data Pipeline**: ä¸ªäººæˆé•¿TOML â†’ JSONè½¬æ¢ â†’ growthStore â†’ Growthç»„ä»¶
- **State Management**: growthStore (Pinia) + åŸæœ‰stores (config, quiz, interview, progress)
- **Routing**: ç›´æ¥è·¯ç”±æ˜ å°„ (/principles â†’ GrowthPrinciplesView) + AppLayouté›†æˆ
- **Component System**: æ··åˆæ¸²æŸ“æ¶æ„ (AppLayout + Growth*ç»„ä»¶ + uniappå…¼å®¹å±‚)
- **Styling**: Tailwind CSS + growth-neo-* neobrutalismè®¾è®¡ç³»ç»Ÿ
- **Build Process**: scripts/build.shå…¨è‡ªåŠ¨åŒ–æ„å»ºæµæ°´çº¿ + TypeScriptä¸¥æ ¼æ¨¡å¼
- **Data Storage**: localStorageä¸ªäººæˆé•¿æ•°æ®æŒä¹…åŒ– + PWAç¦»çº¿æ”¯æŒ
- **Compatibility**: UniView/UniTextå…¨å±€ç»„ä»¶ + è¿è¡Œæ—¶Webé™çº§

### Directory Structure Updates
```
/opt/src/12factor/
â”œâ”€â”€ vue/                           # PRIMARY DEVELOPMENT
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ growth/            # ğŸ†• ç§»åŠ¨ä¼˜å…ˆä¸ªäººæˆé•¿ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ common/        # GrowthHero.vue, StageCard.vue
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ flashcards/    # FlashcardRandomizer.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ uniapp/            # ğŸ†• uniappå…¼å®¹ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ UniView.vue    # viewæ ‡ç­¾Webå…¼å®¹
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ UniText.vue    # textæ ‡ç­¾Webå…¼å®¹
â”‚   â”‚   â”‚   â””â”€â”€ layout/            # AppLayoutå¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ stores/
â”‚   â”‚   â”‚   â””â”€â”€ growthStore.ts     # ğŸ†• ä¸ªäººæˆé•¿é›†ä¸­çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ views/
â”‚   â”‚       â”œâ”€â”€ Growth*.vue        # ğŸ†• AppLayouté›†æˆçš„Growthé¡µé¢
â”‚   â”‚       â””â”€â”€ (å…¶ä»–åŸæœ‰é¡µé¢)
â”‚   â”œâ”€â”€ public/
â”‚   â”‚   â”œâ”€â”€ growth-principles-*.json # ğŸ†• ä¸ªäººæˆé•¿æ•°æ®æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ (å…¶ä»–é™æ€èµ„æº)
â”œâ”€â”€ disused/                       # å½’æ¡£æ—§ç»„ä»¶å’Œé¡µé¢
â”‚   â”œâ”€â”€ components/principles/     # æ—§Principlesç»„ä»¶
â”‚   â”œâ”€â”€ stores/quiz.ts            # æ—§quizçŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ views/PrinciplesView.vue  # æ—§Principlesé¡µé¢
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ growth-principles-converter.js # ğŸ†• TOMLè½¬JSONè½¬æ¢å™¨
â”‚   â””â”€â”€ test-navigation.js        # ğŸ†• å¯¼èˆªé›†æˆæµ‹è¯•è„šæœ¬
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ reports/
â”‚   â”‚   â””â”€â”€ 250906_growth_principles_mobile_refactor.md # ğŸ†• é‡æ„è¯¦ç»†æŠ¥å‘Š
â””â”€â”€ dist/                          # ç”Ÿäº§æ„å»ºè¾“å‡º (1.6M)
```

### Current Code Quality Status
- âœ… **Build**: æˆåŠŸç¼–è¯‘åˆ° /dist (~1.6M, gzipä¼˜åŒ–)
- âœ… **TypeScript**: ç±»å‹æ£€æŸ¥é€šè¿‡ï¼Œæ–°å¢uniappå…¼å®¹ç»„ä»¶ç±»å‹å®šä¹‰
- âœ… **ESLint**: ä»£ç è´¨é‡æ£€æŸ¥é€šè¿‡ï¼Œæ¶æ„æ¸…æ™°æ— å†²çª
- âœ… **Architecture**: AppLayout + Growthç»„ä»¶æ··åˆæ¶æ„ï¼ŒèŒè´£åˆ†ç¦»æ¸…æ™°
- âœ… **Deployment**: ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²éªŒè¯é€šè¿‡ (http://web3mh.101.so:11181/)
- âœ… **UX Consistency**: ä¸‰ä¸ªGrowthé¡µé¢å¯¼èˆªä½“éªŒå®Œå…¨ç»Ÿä¸€
- âœ… **Compatibility**: 100% uniappè¯­æ³•ä¿ç•™ + Webç¯å¢ƒå®Œç¾é™çº§

### Next Phase Priorities
1. **E2Eæµ‹è¯•æ›´æ–°** (é«˜ä¼˜å…ˆçº§): æ›´æ–°Playwrightæµ‹è¯•ç”¨ä¾‹åŒ¹é…æ–°AppLayoutæ¶æ„
2. **æ€§èƒ½ç›‘æ§** (é«˜ä¼˜å…ˆçº§): ç›‘æ§æ··åˆæ¸²æŸ“æ€§èƒ½ï¼Œä¼˜åŒ–bundle size
3. **è®¾è®¡ç³»ç»Ÿæ ‡å‡†åŒ–** (ä¸­ä¼˜å…ˆçº§): å°†growth-neo-*æ ·å¼æŠ½å–ä¸ºé€šç”¨è®¾è®¡ç³»ç»Ÿ  
4. **ç»„ä»¶æ–‡æ¡£å®Œå–„** (ä¸­ä¼˜å…ˆçº§): ä¸ºuniappå…¼å®¹ç»„ä»¶æ·»åŠ ä½¿ç”¨æ–‡æ¡£
5. **å­¦ä¹ åˆ†æåŠŸèƒ½** (ä½ä¼˜å…ˆçº§): å­¦ä¹ æ—¶é•¿ç»Ÿè®¡ï¼ŒçŸ¥è¯†æŒæ¡åº¦å¯è§†åŒ–

### Data Sources
- **ä¸ªäººæˆé•¿æ•°æ®**: docs/plans/250906-growth_principles_*.toml (è½¬æ¢è„šæœ¬: scripts/growth-principles-converter.js)
- **ç”ŸæˆJSONæ–‡ä»¶**: vue/public/growth-principles-*.json (180.88 KBæ€»è®¡)
- **CSSæ•°åˆ›é…ç½®**: docs/plans/web3scv8_v4.toml (4.0.0) â†’ vue/public/w3sc8_*.json 
- **é¢è¯•é¢˜åº“**: vue/public/data/interview-*.json (9ä¸ªéš¾åº¦æ–‡ä»¶)
- **Gitè®°å½•**: Issue #26/#27 å¯¼èˆªç»Ÿä¸€å®Œæˆ (commit: 458fe9a + åç»­commits)