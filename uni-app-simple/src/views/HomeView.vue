<template>
  <div class="home-page">
    <!-- æ¡Œé¢ç«¯ï¼šçƒ­åŒºå›¾ç‰‡å¯¼èˆª -->
    <div v-if="!isMobile" class="desktop-hero">
      <HeroImageMap @open-membership="openMembershipModal" />
    </div>
    
    <!-- ç§»åŠ¨ç«¯ï¼šå¡ç‰‡å¸ƒå±€å¯¼èˆª -->
    <div v-else class="mobile-hero">
      <MobileNavigationCards @open-membership="openMembershipModal" />
    </div>
    
    <!-- ä¼šå‘˜æœåŠ¡æ¨¡æ€å¼¹çª— -->
    <MembershipModal 
      :is-open="membershipModalOpen"
      @close="closeMembershipModal"
    />
    
    <!-- Hero Section - è¿ç§»çŠ¶æ€å±•ç¤º -->
    <div class="neo-card neo-card--primary">
      <div class="text-center">
        <h2 class="text-3xl font-bold mb-4">ğŸ‰ Issue #25 å®Œæˆï¼</h2>
        <p class="text-xl mb-6">digital_venture_idx.png çƒ­åŒºå¯¼èˆªå·²é›†æˆ</p>
        <div class="flex flex-col gap-4 items-center">
          <div class="status-indicator status-indicator--success">
            âœ… HeroImageMap çƒ­åŒºå¯¼èˆªç»„ä»¶
          </div>
          <div class="status-indicator status-indicator--success">
            ğŸ“± MobileNavigationCards ç§»åŠ¨ç«¯é€‚é…
          </div>
          <div class="status-indicator status-indicator--success">
            ğŸ¯ å“åº”å¼è®¾è®¡ + é™çº§å¤„ç†
          </div>
        </div>
      </div>
    </div>

    <!-- åŠŸèƒ½æ¨¡å—å±•ç¤º -->
    <div class="modules-section">
      <h2 class="text-2xl font-bold mb-6 text-center">æ ¸å¿ƒåŠŸèƒ½æ¨¡å—</h2>
      
      <div class="neo-grid neo-grid--2">
        <!-- ä¸ªäººæˆé•¿æ¨¡å— -->
        <div class="neo-card neo-card--accent">
          <div class="text-center">
            <div class="text-4xl mb-4">ğŸŒ±</div>
            <h3 class="text-xl font-bold mb-2 text-white">ä¸ªäººæˆé•¿12åŸåˆ™</h3>
            <p class="mb-4 text-white">ç³»ç»ŸåŒ–å­¦ä¹ ä¸ªäººæˆé•¿æ ¸å¿ƒç†å¿µ</p>
            <router-link to="/principles" class="neo-button neo-button--primary">
              å¼€å§‹å­¦ä¹ 
            </router-link>
          </div>
        </div>

        <!-- é—ªå¡ç»ƒä¹  -->
        <div class="neo-card neo-card--secondary">
          <div class="text-center">
            <div class="text-4xl mb-4">ğŸ¯</div>
            <h3 class="text-xl font-bold mb-2 text-white">é—ªå¡ç»ƒä¹ </h3>
            <p class="mb-4 text-white">é€šè¿‡é—ªå¡æ·±åŒ–çŸ¥è¯†ç†è§£</p>
            <router-link to="/flashcards" class="neo-button neo-button--primary">
              å¼€å§‹ç»ƒä¹ 
            </router-link>
          </div>
        </div>

        <!-- çŸ¥è¯†æµ‹è¯• -->
        <div class="neo-card neo-card--success">
          <div class="text-center">
            <div class="text-4xl mb-4">ğŸ†</div>
            <h3 class="text-xl font-bold mb-2 text-white">çŸ¥è¯†æµ‹è¯•</h3>
            <p class="mb-4 text-white">éªŒè¯å­¦ä¹ æˆæœå’ŒæŒæ¡ç¨‹åº¦</p>
            <router-link to="/quiz" class="neo-button neo-button--primary">
              å¼€å§‹æµ‹è¯•
            </router-link>
          </div>
        </div>

        <!-- æ¨¡æ‹Ÿé¢è¯• -->
        <div class="neo-card">
          <div class="text-center">
            <div class="text-4xl mb-4">ğŸ’¼</div>
            <h3 class="text-xl font-bold mb-2">æ¨¡æ‹Ÿé¢è¯•</h3>
            <p class="mb-4">å¤šéš¾åº¦é¢è¯•é¢˜åº“ç»ƒä¹ </p>
            <router-link to="/interview" class="neo-button neo-button--accent">
              å¼€å§‹é¢è¯•
            </router-link>
          </div>
        </div>
      </div>
    </div>

    <!-- æŠ€æœ¯ç‰¹æ€§å±•ç¤º -->
    <div class="features-section">
      <h2 class="text-2xl font-bold mb-6 text-center">uni-app è¿ç§»ç‰¹æ€§</h2>
      
      <div class="neo-grid neo-grid--3">
        <div class="neo-card">
          <div class="text-center">
            <div class="text-3xl mb-3">ğŸ“±</div>
            <h4 class="font-bold mb-2">è·¨å¹³å°å…¼å®¹</h4>
            <p class="text-sm">ä¸€å¥—ä»£ç ï¼ŒH5 + å°ç¨‹åºåŒç«¯è¿è¡Œ</p>
          </div>
        </div>

        <div class="neo-card">
          <div class="text-center">
            <div class="text-3xl mb-3">ğŸ¨</div>
            <h4 class="font-bold mb-2">è®¾è®¡ç³»ç»Ÿ</h4>
            <p class="text-sm">Neobrutalism é£æ ¼ç»Ÿä¸€è§†è§‰</p>
          </div>
        </div>

        <div class="neo-card">
          <div class="text-center">
            <div class="text-3xl mb-3">âš¡</div>
            <h4 class="font-bold mb-2">ç°ä»£æŠ€æœ¯</h4>
            <p class="text-sm">Vue 3 + TypeScript + Pinia</p>
          </div>
        </div>

        <div class="neo-card">
          <div class="text-center">
            <div class="text-3xl mb-3">ğŸ”§</div>
            <h4 class="font-bold mb-2">å¼€å‘æ•ˆç‡</h4>
            <p class="text-sm">ç»Ÿä¸€ä»£ç åº“ï¼Œç»´æŠ¤æˆæœ¬é™ä½</p>
          </div>
        </div>

        <div class="neo-card">
          <div class="text-center">
            <div class="text-3xl mb-3">ğŸ“¦</div>
            <h4 class="font-bold mb-2">æ„å»ºä¼˜åŒ–</h4>
            <p class="text-sm">è‡ªåŠ¨åŒ–æ„å»ºï¼Œèµ„æºå‹ç¼©ä¼˜åŒ–</p>
          </div>
        </div>

        <div class="neo-card">
          <div class="text-center">
            <div class="text-3xl mb-3">ğŸš€</div>
            <h4 class="font-bold mb-2">æ€§èƒ½æå‡</h4>
            <p class="text-sm">æ›´å¿«çš„åŠ è½½é€Ÿåº¦å’Œå“åº”</p>
          </div>
        </div>
      </div>
    </div>

    <!-- è¿ç§»çŠ¶æ€æŒ‡ç¤º -->
    <div class="neo-card neo-card--primary">
      <h3 class="text-xl font-bold mb-4 text-center">è¿ç§»å®ŒæˆçŠ¶æ€</h3>
      <div class="neo-grid neo-grid--2">
        <div class="migration-status">
          <div class="status-item">
            <span class="status-icon">âœ…</span>
            <span>é¡¹ç›®æ¶æ„é‡æ„</span>
          </div>
          <div class="status-item">
            <span class="status-icon">âœ…</span>
            <span>è®¾è®¡ç³»ç»Ÿå®ç°</span>
          </div>
          <div class="status-item">
            <span class="status-icon">âœ…</span>
            <span>è·¯ç”±ç³»ç»Ÿè¿ç§»</span>
          </div>
          <div class="status-item">
            <span class="status-icon">âœ…</span>
            <span>çŠ¶æ€ç®¡ç†ä¿æŒ</span>
          </div>
        </div>
        <div class="migration-status">
          <div class="status-item">
            <span class="status-icon">âœ…</span>
            <span>è·¨ç«¯å­˜å‚¨ç»Ÿä¸€</span>
          </div>
          <div class="status-item">
            <span class="status-icon">âœ…</span>
            <span>æ„å»ºæµç¨‹é…ç½®</span>
          </div>
          <div class="status-item">
            <span class="status-icon">âœ…</span>
            <span>TypeScriptæ”¯æŒ</span>
          </div>
          <div class="status-item">
            <span class="status-icon">ğŸš€</span>
            <span>H5 æ¼”ç¤ºç‰ˆæœ¬</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref, computed, onMounted } from 'vue'
import HeroImageMap from '@/components/home/HeroImageMap.vue'
import MobileNavigationCards from '@/components/home/MobileNavigationCards.vue'
import MembershipModal from '@/components/home/MembershipModal.vue'

// å“åº”å¼æ£€æµ‹
const isMobile = computed(() => {
  if (typeof window !== 'undefined') {
    return window.innerWidth <= 768
  }
  return false
})

// æ¨¡æ€å¼¹çª—çŠ¶æ€
const membershipModalOpen = ref(false)

// äº‹ä»¶å¤„ç†
const openMembershipModal = () => {
  membershipModalOpen.value = true
}

const closeMembershipModal = () => {
  membershipModalOpen.value = false
}

onMounted(() => {
  console.log('ğŸ  Issue #25 çƒ­åŒºå¯¼èˆªå®Œæˆï¼')
  console.log('âœ¨ HeroImageMap + MobileNavigationCards å·²é›†æˆ')
  console.log('ğŸ¯ å“åº”å¼å¸ƒå±€:', { isMobile: isMobile.value })
  console.log('ğŸ“± æ”¯æŒæ¡Œé¢ç«¯çƒ­åŒº + ç§»åŠ¨ç«¯å¡ç‰‡å¯¼èˆª')
})
</script>

<style scoped>
.home-page {
  min-height: 100vh;
}

/* æ¡Œé¢ç«¯heroåŒºåŸŸ */
.desktop-hero {
  background: linear-gradient(135deg, #f0f9ff 0%, #ffffff 100%);
  min-height: 80vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 2rem;
}

/* ç§»åŠ¨ç«¯heroåŒºåŸŸ */
.mobile-hero {
  background: linear-gradient(135deg, #f0f9ff 0%, #ffffff 100%);
  min-height: 100vh;
  padding: 0;
}

/* ä¸‹æ–¹å†…å®¹åŒºåŸŸ */
.home-page > .neo-card {
  max-width: 1200px;
  margin: 2rem auto;
  margin-top: 0;
}

.home-page {
  max-width: none;
  margin: 0;
  padding: 0;
}

.modules-section,
.features-section {
  margin-top: 3rem;
}

.migration-status {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.status-item {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-weight: 500;
}

.status-icon {
  font-size: 1.25rem;
  min-width: 1.5rem;
}

@media (max-width: 768px) {
  .home-page {
    padding: 1rem 0.5rem;
  }
  
  .modules-section,
  .features-section {
    margin-top: 2rem;
  }
}
</style>